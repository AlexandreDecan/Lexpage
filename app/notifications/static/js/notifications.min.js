var notifications_timer_delay=30000;var notifications_menu_button;var notifications_dropdown_button;var notifications_content_list;var notifications_content_url;var notifications_container;var notifications_button_template="/notifications/button.html";var notifications_list_template="/notifications/list.html";function notifications_init_display(b,d,c,e,a){notifications_container=b;notifications_menu_button=d;notifications_dropdown_button=c;notifications_content_list=e;notifications_content_url=a;if($(notifications_content_list)){setInterval(notifications_refresh,notifications_timer_delay);notifications_refresh()}}function notifications_refresh(){$.get(notifications_content_url,function(a){data_embedded={notifications_list:a};if(a.length==0){$(notifications_container).hide()}else{$(notifications_container).show()}$(notifications_dropdown_button).html(nunjucks.render(notifications_button_template,data_embedded));$(notifications_content_list).html(nunjucks.render(notifications_list_template,data_embedded));$(notifications_menu_button).html(nunjucks.render(notifications_button_template,data_embedded));notification_initialize()})}function notification_initialize(){$(".notification_list .notification_dismiss a.close").click(function(a){a.stopPropagation()})}function notification_dismiss(b,c){function a(d){notifications_refresh()}$("#"+c+" a.close").addClass("fa-spinner fa-spin");$.ajax({url:b,type:"DELETE"}).done(a)};