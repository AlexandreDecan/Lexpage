if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));document.querySelector("head").appendChild(msViewportStyle)}$(document).ready(function(){replace_invalid_avatar($("body"));activate_tooltips($("body"));$("#navbarA-collapse .dropdown-toggle").closest("li").hover(function(){if(!$("#navbarA-collapse").hasClass("in")){$(this).addClass("open")}},function(){if(!$("#navbarA-collapse").hasClass("in")){$(this).removeClass("open")}});$(".confirm-action").click(function(a){a.preventDefault();$("#confirm-action").modal("show");$("#confirm-action #confirm-action-yes").attr("href",$(this).attr("href"))});refresh_oembed($("body"));notification_initialize();$(".navbar-fixed-top").autoHidingNavbar({showOnBottom:false});$.ajaxSetup({beforeSend:function(b,a){if(!(/^(GET|HEAD|OPTIONS|TRACE)$/.test(a.type))&&!this.crossDomain){b.setRequestHeader("X-CSRFToken",getCookie("csrftoken"))}}})});function refresh_oembed(a){a.find("a.oembed").oembed(null,{maxHeight:"400"});a.find("span.embedly").each(function(c,f){f=$(f);var d="Please, do NOT use this API key. You can get one too for free on http://embed.ly !";var b="http://api.embed.ly/1/extract?key=396f02e230724c218db720b2dd2daed0&url="+f.attr("data-url");$.ajax(b).done(function(e){if(e.images&&e.images[0]&&e.images[0]["url"]){f.append('<a href="'+f.attr("data-url")+'"><img src="'+e.images[0]["url"]+'"/></a>')}else{f.replaceWith("")}})})}function activate_tooltips(a){if(!Modernizr.touch){$(a).find("[data-toggle='tooltip']").tooltip();$(a).find(".avatar[title]").tooltip()}}function replace_invalid_avatar(a){$(a).find("img.avatar[src='']").each(function(){$(this).attr("src",URL_PREFIX+"/static/images/avatars/default.png")});$(a).find("img.avatar").error(function(){$(this).unbind("error").attr("src",URL_PREFIX+"/static/images/avatars/erreur404.png")})}function getCookie(a){var e=null;if(document.cookie&&document.cookie!=""){var d=document.cookie.split(";");for(var c=0;c<d.length;c++){var b=jQuery.trim(d[c]);if(b.substring(0,a.length+1)==(a+"=")){e=decodeURIComponent(b.substring(a.length+1));break}}}return e};